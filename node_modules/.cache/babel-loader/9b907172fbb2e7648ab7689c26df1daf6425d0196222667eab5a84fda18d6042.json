{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import'./VerifyEmail.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const VerifyEmail=()=>{const{token}=useParams();const navigate=useNavigate();const[status,setStatus]=useState('verifying');const[message,setMessage]=useState('');useEffect(()=>{const verifyEmail=async()=>{try{const response=await fetch(\"/api/verify-email/\".concat(token));const data=await response.json();if(response.ok){setStatus('success');setMessage(data.message);// Redirect to login after 3 seconds\nsetTimeout(()=>{navigate('/login');},3000);}else{setStatus('error');setMessage(data.message);}}catch(error){setStatus('error');setMessage('An error occurred while verifying your email');}};if(token){verifyEmail();}},[token,navigate]);return/*#__PURE__*/_jsx(\"div\",{className:\"verify-email\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"verify-email__container\",children:[status==='verifying'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"verify-email__spinner\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Verifying your email...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please wait while we verify your email address.\"})]}),status==='success'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"verify-email__success\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Email Verified Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"p\",{children:\"You will be redirected to the login page in a few seconds.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"verify-email__button\",onClick:()=>navigate('/login'),children:\"Go to Login\"})]}),status==='error'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"verify-email__error\",children:\"\\u2717\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{className:\"verify-email__button\",onClick:()=>navigate('/signup'),children:\"Back to Signup\"})]})]})});};export default VerifyEmail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","VerifyEmail","token","navigate","status","setStatus","message","setMessage","verifyEmail","response","fetch","concat","data","json","ok","setTimeout","error","className","children","onClick"],"sources":["E:/craft_sales/craftsale/src/pages/VerifyEmail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './VerifyEmail.css';\r\n\r\nconst VerifyEmail = () => {\r\n  const { token } = useParams();\r\n  const navigate = useNavigate();\r\n  const [status, setStatus] = useState('verifying');\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    const verifyEmail = async () => {\r\n      try {\r\n        const response = await fetch(`/api/verify-email/${token}`);\r\n        const data = await response.json();\r\n        \r\n        if (response.ok) {\r\n          setStatus('success');\r\n          setMessage(data.message);\r\n          // Redirect to login after 3 seconds\r\n          setTimeout(() => {\r\n            navigate('/login');\r\n          }, 3000);\r\n        } else {\r\n          setStatus('error');\r\n          setMessage(data.message);\r\n        }\r\n      } catch (error) {\r\n        setStatus('error');\r\n        setMessage('An error occurred while verifying your email');\r\n      }\r\n    };\r\n\r\n    if (token) {\r\n      verifyEmail();\r\n    }\r\n  }, [token, navigate]);\r\n\r\n  return (\r\n    <div className=\"verify-email\">\r\n      <div className=\"verify-email__container\">\r\n        {status === 'verifying' && (\r\n          <>\r\n            <div className=\"verify-email__spinner\"></div>\r\n            <h2>Verifying your email...</h2>\r\n            <p>Please wait while we verify your email address.</p>\r\n          </>\r\n        )}\r\n        \r\n        {status === 'success' && (\r\n          <>\r\n            <div className=\"verify-email__success\">✓</div>\r\n            <h2>Email Verified Successfully!</h2>\r\n            <p>{message}</p>\r\n            <p>You will be redirected to the login page in a few seconds.</p>\r\n            <button \r\n              className=\"verify-email__button\"\r\n              onClick={() => navigate('/login')}\r\n            >\r\n              Go to Login\r\n            </button>\r\n          </>\r\n        )}\r\n        \r\n        {status === 'error' && (\r\n          <>\r\n            <div className=\"verify-email__error\">✗</div>\r\n            <h2>Verification Failed</h2>\r\n            <p>{message}</p>\r\n            <button \r\n              className=\"verify-email__button\"\r\n              onClick={() => navigate('/signup')}\r\n            >\r\n              Back to Signup\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifyEmail;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAEC,KAAM,CAAC,CAAGT,SAAS,CAAC,CAAC,CAC7B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,WAAW,CAAC,CACjD,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,sBAAAC,MAAA,CAAsBT,KAAK,CAAE,CAAC,CAC1D,KAAM,CAAAU,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAElC,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CACfT,SAAS,CAAC,SAAS,CAAC,CACpBE,UAAU,CAACK,IAAI,CAACN,OAAO,CAAC,CACxB;AACAS,UAAU,CAAC,IAAM,CACfZ,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,IAAM,CACLE,SAAS,CAAC,OAAO,CAAC,CAClBE,UAAU,CAACK,IAAI,CAACN,OAAO,CAAC,CAC1B,CACF,CAAE,MAAOU,KAAK,CAAE,CACdX,SAAS,CAAC,OAAO,CAAC,CAClBE,UAAU,CAAC,8CAA8C,CAAC,CAC5D,CACF,CAAC,CAED,GAAIL,KAAK,CAAE,CACTM,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAAE,CAACN,KAAK,CAAEC,QAAQ,CAAC,CAAC,CAErB,mBACEP,IAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BlB,KAAA,QAAKiB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EACrCd,MAAM,GAAK,WAAW,eACrBJ,KAAA,CAAAF,SAAA,EAAAoB,QAAA,eACEtB,IAAA,QAAKqB,SAAS,CAAC,uBAAuB,CAAM,CAAC,cAC7CrB,IAAA,OAAAsB,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAChCtB,IAAA,MAAAsB,QAAA,CAAG,iDAA+C,CAAG,CAAC,EACtD,CACH,CAEAd,MAAM,GAAK,SAAS,eACnBJ,KAAA,CAAAF,SAAA,EAAAoB,QAAA,eACEtB,IAAA,QAAKqB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,QAAC,CAAK,CAAC,cAC9CtB,IAAA,OAAAsB,QAAA,CAAI,8BAA4B,CAAI,CAAC,cACrCtB,IAAA,MAAAsB,QAAA,CAAIZ,OAAO,CAAI,CAAC,cAChBV,IAAA,MAAAsB,QAAA,CAAG,4DAA0D,CAAG,CAAC,cACjEtB,IAAA,WACEqB,SAAS,CAAC,sBAAsB,CAChCE,OAAO,CAAEA,CAAA,GAAMhB,QAAQ,CAAC,QAAQ,CAAE,CAAAe,QAAA,CACnC,aAED,CAAQ,CAAC,EACT,CACH,CAEAd,MAAM,GAAK,OAAO,eACjBJ,KAAA,CAAAF,SAAA,EAAAoB,QAAA,eACEtB,IAAA,QAAKqB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,QAAC,CAAK,CAAC,cAC5CtB,IAAA,OAAAsB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BtB,IAAA,MAAAsB,QAAA,CAAIZ,OAAO,CAAI,CAAC,cAChBV,IAAA,WACEqB,SAAS,CAAC,sBAAsB,CAChCE,OAAO,CAAEA,CAAA,GAAMhB,QAAQ,CAAC,SAAS,CAAE,CAAAe,QAAA,CACpC,gBAED,CAAQ,CAAC,EACT,CACH,EACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}