{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Admin.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPanel=()=>{const[loading,setLoading]=useState(false);const[activeTab,setActiveTab]=useState('users');// Start with users tab\nconst[error,setError]=useState('');// Dashboard data\nconst[stats,setStats]=useState({totalUsers:0,verifiedUsers:0,unverifiedUsers:0,adminUsers:0,todayLogins:0,weekLogins:0,recentSignups:0});// Users data\nconst[users,setUsers]=useState([]);const[pagination,setPagination]=useState({});const[searchTerm,setSearchTerm]=useState('');const[verificationFilter,setVerificationFilter]=useState('all');const[adminFilter,setAdminFilter]=useState('all');const[currentPage,setCurrentPage]=useState(1);// Login history data\nconst[loginHistory,setLoginHistory]=useState([]);const adminPassword='admin123';// You can move this to environment variables\nconst loadDashboardData=async()=>{setLoading(true);try{const res=await fetch('http://localhost:5001/api/admin/dashboard-stats',{headers:{'x-admin-password':adminPassword}});if(res.ok){const data=await res.json();setStats(data);}}catch(error){console.error('Error loading dashboard data:',error);}setLoading(false);};const loadUsers=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let search=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let verified=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'all';let admin=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'all';setLoading(true);setError('');try{const params=new URLSearchParams({page:page.toString(),limit:'10',search,verified,admin});const res=await fetch(\"http://localhost:5001/api/admin/users?\".concat(params),{headers:{'x-admin-password':adminPassword}});if(res.ok){const data=await res.json();setUsers(data.users||[]);setPagination(data.pagination||{});}else{setError('Failed to load users. Please check if the backend server is running.');}}catch(error){console.error('Error loading users:',error);setError('Failed to connect to server. Please make sure the backend is running on port 5001.');}setLoading(false);};const loadLoginHistory=async()=>{setLoading(true);try{const res=await fetch('http://localhost:5001/api/admin/user-logins',{headers:{'x-admin-password':adminPassword}});if(res.ok){const data=await res.json();setLoginHistory(data);}}catch(error){console.error('Error loading login history:',error);}setLoading(false);};const handleSearch=()=>{setCurrentPage(1);loadUsers(1,searchTerm,verificationFilter,adminFilter);};const handlePageChange=page=>{setCurrentPage(page);loadUsers(page,searchTerm,verificationFilter,adminFilter);};const handleFilterClick=(filterType,filterValue)=>{setCurrentPage(1);if(filterType==='verified'){setVerificationFilter(filterValue);setAdminFilter('all');}else if(filterType==='admin'){setAdminFilter(filterValue);setVerificationFilter('all');}};const toggleAdminStatus=async userId=>{try{const res=await fetch(\"http://localhost:5001/api/admin/user/\".concat(userId,\"/toggle-admin\"),{method:'PATCH',headers:{'x-admin-password':adminPassword,'Content-Type':'application/json'}});if(res.ok){loadUsers(currentPage,searchTerm,verificationFilter,adminFilter);loadDashboardData();}}catch(error){console.error('Error toggling admin status:',error);}};const verifyUserEmail=async userId=>{try{const res=await fetch(\"http://localhost:5001/api/admin/user/\".concat(userId,\"/verify-email\"),{method:'PATCH',headers:{'x-admin-password':adminPassword,'Content-Type':'application/json'}});if(res.ok){alert('Email verified successfully! A notification email has been sent to the user.');loadUsers(currentPage,searchTerm,verificationFilter,adminFilter);loadDashboardData();}else{alert('Failed to verify email');}}catch(error){console.error('Error verifying email:',error);alert('Error verifying email');}};const resendVerificationEmail=async(userId,userEmail)=>{try{const res=await fetch(\"http://localhost:5001/api/resend-verification\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:userEmail})});if(res.ok){alert('Verification email sent successfully!');}else{alert('Failed to send verification email');}}catch(error){console.error('Error sending verification email:',error);alert('Error sending verification email');}};const deleteUser=async userId=>{if(window.confirm('Are you sure you want to delete this user?')){try{const res=await fetch(\"http://localhost:5001/api/admin/user/\".concat(userId),{method:'DELETE',headers:{'x-admin-password':adminPassword}});if(res.ok){loadUsers(currentPage,searchTerm,verificationFilter,adminFilter);loadDashboardData();}}catch(error){console.error('Error deleting user:',error);}}};useEffect(()=>{loadDashboardData();loadUsers();// Load users by default\nif(activeTab==='logins'){loadLoginHistory();}},[activeTab]);// Update users when filters change\nuseEffect(()=>{if(activeTab==='users'){loadUsers(1,searchTerm,verificationFilter,adminFilter);setCurrentPage(1);}},[verificationFilter,adminFilter,activeTab]);// Update users when search term changes\nuseEffect(()=>{if(activeTab==='users'){loadUsers(1,searchTerm,verificationFilter,adminFilter);setCurrentPage(1);}},[searchTerm]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-panel__logout\",onClick:()=>window.location.href='/',children:\"Back to Home\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:activeTab==='dashboard'?'active':'',onClick:()=>setActiveTab('dashboard'),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='users'?'active':'',onClick:()=>setActiveTab('users'),children:\"Users\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab==='logins'?'active':'',onClick:()=>setActiveTab('logins'),children:\"Login History\"})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-panel__loading\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-panel__error\",style:{color:'red',padding:'1rem',textAlign:'center',backgroundColor:'#ffe6e6',border:'1px solid red',borderRadius:'4px',margin:'1rem 0'},children:error}),activeTab==='dashboard'&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-panel__dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat\",onClick:()=>setActiveTab('users'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.totalUsers}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"Total Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat clickable\",onClick:()=>handleFilterClick('verified','verified'),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.verifiedUsers}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"Verified Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat clickable\",onClick:()=>handleFilterClick('verified','unverified'),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.unverifiedUsers}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"Unverified Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat clickable\",onClick:()=>handleFilterClick('admin','admin'),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.adminUsers}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"Admin Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.todayLogins}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"Today's Logins\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.weekLogins}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"This Week's Logins\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__count\",children:stats.recentSignups}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-panel__label\",children:\"Recent Signups (30 days)\"})]})]})}),activeTab==='users'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__users\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__filters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search users...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:verificationFilter,onChange:e=>{setVerificationFilter(e.target.value);setAdminFilter('all');// Reset admin filter when verification filter changes\n},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Users\"}),/*#__PURE__*/_jsx(\"option\",{value:\"verified\",children:\"Verified Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"unverified\",children:\"Unverified Only\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:adminFilter,onChange:e=>{setAdminFilter(e.target.value);setVerificationFilter('all');// Reset verification filter when admin filter changes\n},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All User Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin Users Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"Regular Users Only\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-panel__table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"admin-panel__table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mobile\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Verified\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Admin\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Login Count\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Login\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.mobile}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(user.isEmailVerified?'verified':'unverified'),children:user.isEmailVerified?'Yes':'No'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(user.isAdmin?'admin':'user'),children:user.isAdmin?'Yes':'No'})}),/*#__PURE__*/_jsx(\"td\",{children:user.loginCount||0}),/*#__PURE__*/_jsx(\"td\",{children:user.lastLoginAt?new Date(user.lastLoginAt).toLocaleString():'Never'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__actions\",children:[!user.isEmailVerified&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-verify\",onClick:()=>verifyUserEmail(user._id),style:{marginRight:'5px',backgroundColor:'#28a745',color:'white',border:'none',padding:'5px 10px',borderRadius:'3px'},children:\"Verify Email\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-resend\",onClick:()=>resendVerificationEmail(user._id,user.email),style:{marginRight:'5px',backgroundColor:'#17a2b8',color:'white',border:'none',padding:'5px 10px',borderRadius:'3px'},children:\"Resend Verification Email\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-admin \".concat(user.isAdmin?'remove':'add'),onClick:()=>toggleAdminStatus(user._id),style:{marginRight:'5px',backgroundColor:user.isAdmin?'#dc3545':'#ffc107',color:'white',border:'none',padding:'5px 10px',borderRadius:'3px'},children:user.isAdmin?'Remove Admin':'Make Admin'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete\",onClick:()=>deleteUser(user._id),style:{backgroundColor:'#dc3545',color:'white',border:'none',padding:'5px 10px',borderRadius:'3px'},children:\"Delete\"})]})})]},user._id))})]})}),pagination.totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel__pagination\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:!pagination.hasPrev,onClick:()=>handlePageChange(currentPage-1),children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",pagination.currentPage,\" of \",pagination.totalPages]}),/*#__PURE__*/_jsx(\"button\",{disabled:!pagination.hasNext,onClick:()=>handlePageChange(currentPage+1),children:\"Next\"})]})]}),activeTab==='logins'&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-panel__logins\",children:/*#__PURE__*/_jsx(\"div\",{className:\"admin-panel__table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"admin-panel__table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Login Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Logout Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Session Duration\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IP Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Login Count\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loginHistory.map(user=>user.loginHistory.map((log,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:log.loginAt?new Date(log.loginAt).toLocaleString():'-'}),/*#__PURE__*/_jsx(\"td\",{children:log.logoutAt?new Date(log.logoutAt).toLocaleString():'Active'}),/*#__PURE__*/_jsx(\"td\",{children:log.sessionDuration?\"\".concat(log.sessionDuration,\"m\"):'-'}),/*#__PURE__*/_jsx(\"td\",{children:log.ipAddress||'-'}),/*#__PURE__*/_jsx(\"td\",{children:user.loginCount||0})]},\"\".concat(user._id,\"-\").concat(idx))))})]})})})]});};export default AdminPanel;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPanel","loading","setLoading","activeTab","setActiveTab","error","setError","stats","setStats","totalUsers","verifiedUsers","unverifiedUsers","adminUsers","todayLogins","weekLogins","recentSignups","users","setUsers","pagination","setPagination","searchTerm","setSearchTerm","verificationFilter","setVerificationFilter","adminFilter","setAdminFilter","currentPage","setCurrentPage","loginHistory","setLoginHistory","adminPassword","loadDashboardData","res","fetch","headers","ok","data","json","console","loadUsers","page","arguments","length","undefined","search","verified","admin","params","URLSearchParams","toString","limit","concat","loadLoginHistory","handleSearch","handlePageChange","handleFilterClick","filterType","filterValue","toggleAdminStatus","userId","method","verifyUserEmail","alert","resendVerificationEmail","userEmail","body","JSON","stringify","email","deleteUser","window","confirm","className","children","onClick","location","href","style","color","padding","textAlign","backgroundColor","border","borderRadius","margin","cursor","type","placeholder","value","onChange","e","target","map","user","username","mobile","isEmailVerified","isAdmin","loginCount","lastLoginAt","Date","toLocaleString","createdAt","toLocaleDateString","_id","marginRight","totalPages","disabled","hasPrev","hasNext","log","idx","loginAt","logoutAt","sessionDuration","ipAddress"],"sources":["E:/craft_sales/craftsale/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Admin.css';\r\n\r\nconst AdminPanel = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('users'); // Start with users tab\r\n  const [error, setError] = useState('');\r\n  \r\n  // Dashboard data\r\n  const [stats, setStats] = useState({\r\n    totalUsers: 0,\r\n    verifiedUsers: 0,\r\n    unverifiedUsers: 0,\r\n    adminUsers: 0,\r\n    todayLogins: 0,\r\n    weekLogins: 0,\r\n    recentSignups: 0\r\n  });\r\n  \r\n  // Users data\r\n  const [users, setUsers] = useState([]);\r\n  const [pagination, setPagination] = useState({});\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [verificationFilter, setVerificationFilter] = useState('all');\r\n  const [adminFilter, setAdminFilter] = useState('all');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  \r\n  // Login history data\r\n  const [loginHistory, setLoginHistory] = useState([]);\r\n\r\n  const adminPassword = 'admin123'; // You can move this to environment variables\r\n\r\n  const loadDashboardData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('http://localhost:5001/api/admin/dashboard-stats', {\r\n        headers: { 'x-admin-password': adminPassword }\r\n      });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setStats(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading dashboard data:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadUsers = async (page = 1, search = '', verified = 'all', admin = 'all') => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const params = new URLSearchParams({\r\n        page: page.toString(),\r\n        limit: '10',\r\n        search,\r\n        verified,\r\n        admin\r\n      });\r\n      \r\n      \r\n      const res = await fetch(`http://localhost:5001/api/admin/users?${params}`, {\r\n        headers: { 'x-admin-password': adminPassword }\r\n      });\r\n      \r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setUsers(data.users || []);\r\n        setPagination(data.pagination || {});\r\n      } else {\r\n        setError('Failed to load users. Please check if the backend server is running.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading users:', error);\r\n      setError('Failed to connect to server. Please make sure the backend is running on port 5001.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadLoginHistory = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('http://localhost:5001/api/admin/user-logins', {\r\n        headers: { 'x-admin-password': adminPassword }\r\n      });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setLoginHistory(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading login history:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setCurrentPage(1);\r\n    loadUsers(1, searchTerm, verificationFilter, adminFilter);\r\n  };\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n    loadUsers(page, searchTerm, verificationFilter, adminFilter);\r\n  };\r\n\r\n  const handleFilterClick = (filterType, filterValue) => {\r\n    setCurrentPage(1);\r\n    if (filterType === 'verified') {\r\n      setVerificationFilter(filterValue);\r\n      setAdminFilter('all');\r\n    } else if (filterType === 'admin') {\r\n      setAdminFilter(filterValue);\r\n      setVerificationFilter('all');\r\n    }\r\n  };\r\n\r\n  const toggleAdminStatus = async (userId) => {\r\n    try {\r\n      const res = await fetch(`http://localhost:5001/api/admin/user/${userId}/toggle-admin`, {\r\n        method: 'PATCH',\r\n        headers: { \r\n          'x-admin-password': adminPassword,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (res.ok) {\r\n        loadUsers(currentPage, searchTerm, verificationFilter, adminFilter);\r\n        loadDashboardData();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling admin status:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const verifyUserEmail = async (userId) => {\r\n    try {\r\n      const res = await fetch(`http://localhost:5001/api/admin/user/${userId}/verify-email`, {\r\n        method: 'PATCH',\r\n        headers: { \r\n          'x-admin-password': adminPassword,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (res.ok) {\r\n        alert('Email verified successfully! A notification email has been sent to the user.');\r\n        loadUsers(currentPage, searchTerm, verificationFilter, adminFilter);\r\n        loadDashboardData();\r\n      } else {\r\n        alert('Failed to verify email');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verifying email:', error);\r\n      alert('Error verifying email');\r\n    }\r\n  };\r\n\r\n  const resendVerificationEmail = async (userId, userEmail) => {\r\n    try {\r\n      const res = await fetch(`http://localhost:5001/api/resend-verification`, {\r\n        method: 'POST',\r\n        headers: { \r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email: userEmail })\r\n      });\r\n      \r\n      if (res.ok) {\r\n        alert('Verification email sent successfully!');\r\n      } else {\r\n        alert('Failed to send verification email');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending verification email:', error);\r\n      alert('Error sending verification email');\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (userId) => {\r\n    if (window.confirm('Are you sure you want to delete this user?')) {\r\n      try {\r\n        const res = await fetch(`http://localhost:5001/api/admin/user/${userId}`, {\r\n          method: 'DELETE',\r\n          headers: { 'x-admin-password': adminPassword }\r\n        });\r\n        \r\n        if (res.ok) {\r\n          loadUsers(currentPage, searchTerm, verificationFilter, adminFilter);\r\n          loadDashboardData();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n    loadUsers(); // Load users by default\r\n    if (activeTab === 'logins') {\r\n      loadLoginHistory();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Update users when filters change\r\n  useEffect(() => {\r\n    if (activeTab === 'users') {\r\n      loadUsers(1, searchTerm, verificationFilter, adminFilter);\r\n      setCurrentPage(1);\r\n    }\r\n  }, [verificationFilter, adminFilter, activeTab]);\r\n\r\n  // Update users when search term changes\r\n  useEffect(() => {\r\n    if (activeTab === 'users') {\r\n      loadUsers(1, searchTerm, verificationFilter, adminFilter);\r\n      setCurrentPage(1);\r\n    }\r\n  }, [searchTerm]);\r\n\r\n\r\n  return (\r\n    <div className=\"admin-panel\">\r\n      <div className=\"admin-panel__header\">\r\n        <h1>Admin Dashboard</h1>\r\n        <button \r\n          className=\"admin-panel__logout\"\r\n          onClick={() => window.location.href = '/'}\r\n        >\r\n          Back to Home\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"admin-panel__tabs\">\r\n        <button \r\n          className={activeTab === 'dashboard' ? 'active' : ''}\r\n          onClick={() => setActiveTab('dashboard')}\r\n        >\r\n          Dashboard\r\n        </button>\r\n        <button \r\n          className={activeTab === 'users' ? 'active' : ''}\r\n          onClick={() => setActiveTab('users')}\r\n        >\r\n          Users\r\n        </button>\r\n        <button \r\n          className={activeTab === 'logins' ? 'active' : ''}\r\n          onClick={() => setActiveTab('logins')}\r\n        >\r\n          Login History\r\n        </button>\r\n      </div>\r\n\r\n      {loading && <div className=\"admin-panel__loading\">Loading...</div>}\r\n      {error && <div className=\"admin-panel__error\" style={{color: 'red', padding: '1rem', textAlign: 'center', backgroundColor: '#ffe6e6', border: '1px solid red', borderRadius: '4px', margin: '1rem 0'}}>{error}</div>}\r\n\r\n      {activeTab === 'dashboard' && (\r\n        <div className=\"admin-panel__dashboard\">\r\n          <div className=\"admin-panel__stats\">\r\n            <div className=\"admin-panel__stat\" onClick={() => setActiveTab('users')}>\r\n              <span className=\"admin-panel__count\">{stats.totalUsers}</span>\r\n              <span className=\"admin-panel__label\">Total Users</span>\r\n            </div>\r\n            <div \r\n              className=\"admin-panel__stat clickable\" \r\n              onClick={() => handleFilterClick('verified', 'verified')}\r\n              style={{cursor: 'pointer'}}\r\n            >\r\n              <span className=\"admin-panel__count\">{stats.verifiedUsers}</span>\r\n              <span className=\"admin-panel__label\">Verified Users</span>\r\n            </div>\r\n            <div \r\n              className=\"admin-panel__stat clickable\" \r\n              onClick={() => handleFilterClick('verified', 'unverified')}\r\n              style={{cursor: 'pointer'}}\r\n            >\r\n              <span className=\"admin-panel__count\">{stats.unverifiedUsers}</span>\r\n              <span className=\"admin-panel__label\">Unverified Users</span>\r\n            </div>\r\n            <div \r\n              className=\"admin-panel__stat clickable\" \r\n              onClick={() => handleFilterClick('admin', 'admin')}\r\n              style={{cursor: 'pointer'}}\r\n            >\r\n              <span className=\"admin-panel__count\">{stats.adminUsers}</span>\r\n              <span className=\"admin-panel__label\">Admin Users</span>\r\n            </div>\r\n            <div className=\"admin-panel__stat\">\r\n              <span className=\"admin-panel__count\">{stats.todayLogins}</span>\r\n              <span className=\"admin-panel__label\">Today's Logins</span>\r\n            </div>\r\n            <div className=\"admin-panel__stat\">\r\n              <span className=\"admin-panel__count\">{stats.weekLogins}</span>\r\n              <span className=\"admin-panel__label\">This Week's Logins</span>\r\n            </div>\r\n            <div className=\"admin-panel__stat\">\r\n              <span className=\"admin-panel__count\">{stats.recentSignups}</span>\r\n              <span className=\"admin-panel__label\">Recent Signups (30 days)</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'users' && (\r\n        <div className=\"admin-panel__users\">\r\n          <div className=\"admin-panel__filters\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search users...\"\r\n              value={searchTerm}\r\n              onChange={e => setSearchTerm(e.target.value)}\r\n            />\r\n            <select \r\n              value={verificationFilter}\r\n              onChange={e => {\r\n                setVerificationFilter(e.target.value);\r\n                setAdminFilter('all'); // Reset admin filter when verification filter changes\r\n              }}\r\n            >\r\n              <option value=\"all\">All Users</option>\r\n              <option value=\"verified\">Verified Only</option>\r\n              <option value=\"unverified\">Unverified Only</option>\r\n            </select>\r\n            <select \r\n              value={adminFilter}\r\n              onChange={e => {\r\n                setAdminFilter(e.target.value);\r\n                setVerificationFilter('all'); // Reset verification filter when admin filter changes\r\n              }}\r\n            >\r\n              <option value=\"all\">All User Types</option>\r\n              <option value=\"admin\">Admin Users Only</option>\r\n              <option value=\"user\">Regular Users Only</option>\r\n            </select>\r\n            <button onClick={handleSearch}>Search</button>\r\n          </div>\r\n\r\n          <div className=\"admin-panel__table-container\">\r\n            <table className=\"admin-panel__table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Username</th>\r\n                  <th>Email</th>\r\n                  <th>Mobile</th>\r\n                  <th>Verified</th>\r\n                  <th>Admin</th>\r\n                  <th>Login Count</th>\r\n                  <th>Last Login</th>\r\n                  <th>Created</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map(user => (\r\n                  <tr key={user._id}>\r\n                    <td>{user.username}</td>\r\n                    <td>{user.email}</td>\r\n                    <td>{user.mobile}</td>\r\n                    <td>\r\n                      <span className={`status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\r\n                        {user.isEmailVerified ? 'Yes' : 'No'}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <span className={`status ${user.isAdmin ? 'admin' : 'user'}`}>\r\n                        {user.isAdmin ? 'Yes' : 'No'}\r\n                      </span>\r\n                    </td>\r\n                    <td>{user.loginCount || 0}</td>\r\n                    <td>{user.lastLoginAt ? new Date(user.lastLoginAt).toLocaleString() : 'Never'}</td>\r\n                    <td>{new Date(user.createdAt).toLocaleDateString()}</td>\r\n                    <td>\r\n                      <div className=\"admin-panel__actions\">\r\n                        {!user.isEmailVerified && (\r\n                          <>\r\n                            <button \r\n                              className=\"btn-verify\"\r\n                              onClick={() => verifyUserEmail(user._id)}\r\n                              style={{marginRight: '5px', backgroundColor: '#28a745', color: 'white', border: 'none', padding: '5px 10px', borderRadius: '3px'}}\r\n                            >\r\n                              Verify Email\r\n                            </button>\r\n                            <button \r\n                              className=\"btn-resend\"\r\n                              onClick={() => resendVerificationEmail(user._id, user.email)}\r\n                              style={{marginRight: '5px', backgroundColor: '#17a2b8', color: 'white', border: 'none', padding: '5px 10px', borderRadius: '3px'}}\r\n                            >\r\n                              Resend Verification Email\r\n                            </button>\r\n                          </>\r\n                        )}\r\n                        <button \r\n                          className={`btn-admin ${user.isAdmin ? 'remove' : 'add'}`}\r\n                          onClick={() => toggleAdminStatus(user._id)}\r\n                          style={{marginRight: '5px', backgroundColor: user.isAdmin ? '#dc3545' : '#ffc107', color: 'white', border: 'none', padding: '5px 10px', borderRadius: '3px'}}\r\n                        >\r\n                          {user.isAdmin ? 'Remove Admin' : 'Make Admin'}\r\n                        </button>\r\n                        <button \r\n                          className=\"btn-delete\"\r\n                          onClick={() => deleteUser(user._id)}\r\n                          style={{backgroundColor: '#dc3545', color: 'white', border: 'none', padding: '5px 10px', borderRadius: '3px'}}\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {pagination.totalPages > 1 && (\r\n            <div className=\"admin-panel__pagination\">\r\n              <button \r\n                disabled={!pagination.hasPrev}\r\n                onClick={() => handlePageChange(currentPage - 1)}\r\n              >\r\n                Previous\r\n              </button>\r\n              <span>\r\n                Page {pagination.currentPage} of {pagination.totalPages}\r\n              </span>\r\n              <button \r\n                disabled={!pagination.hasNext}\r\n                onClick={() => handlePageChange(currentPage + 1)}\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'logins' && (\r\n        <div className=\"admin-panel__logins\">\r\n          <div className=\"admin-panel__table-container\">\r\n            <table className=\"admin-panel__table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>User</th>\r\n                  <th>Email</th>\r\n                  <th>Login Time</th>\r\n                  <th>Logout Time</th>\r\n                  <th>Session Duration</th>\r\n                  <th>IP Address</th>\r\n                  <th>Login Count</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {loginHistory.map(user =>\r\n                  user.loginHistory.map((log, idx) => (\r\n                    <tr key={`${user._id}-${idx}`}>\r\n                      <td>{user.username}</td>\r\n                      <td>{user.email}</td>\r\n                      <td>{log.loginAt ? new Date(log.loginAt).toLocaleString() : '-'}</td>\r\n                      <td>{log.logoutAt ? new Date(log.logoutAt).toLocaleString() : 'Active'}</td>\r\n                      <td>\r\n                        {log.sessionDuration ? `${log.sessionDuration}m` : '-'}\r\n                      </td>\r\n                      <td>{log.ipAddress || '-'}</td>\r\n                      <td>{user.loginCount || 0}</td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErB,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,OAAO,CAAC,CAAE;AACrD,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACA,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,CACjCiB,UAAU,CAAE,CAAC,CACbC,aAAa,CAAE,CAAC,CAChBC,eAAe,CAAE,CAAC,CAClBC,UAAU,CAAE,CAAC,CACbC,WAAW,CAAE,CAAC,CACdC,UAAU,CAAE,CAAC,CACbC,aAAa,CAAE,CACjB,CAAC,CAAC,CAEF;AACA,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAG3B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,KAAM,CAAC4B,UAAU,CAAEC,aAAa,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC8B,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACgC,WAAW,CAAEC,cAAc,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACkC,WAAW,CAAEC,cAAc,CAAC,CAAGnC,QAAQ,CAAC,CAAC,CAAC,CAEjD;AACA,KAAM,CAACoC,YAAY,CAAEC,eAAe,CAAC,CAAGrC,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAAsC,aAAa,CAAG,UAAU,CAAE;AAElC,KAAM,CAAAC,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC7B,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAA8B,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,iDAAiD,CAAE,CACzEC,OAAO,CAAE,CAAE,kBAAkB,CAAEJ,aAAc,CAC/C,CAAC,CAAC,CACF,GAAIE,GAAG,CAACG,EAAE,CAAE,CACV,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7B7B,QAAQ,CAAC4B,IAAI,CAAC,CAChB,CACF,CAAE,MAAO/B,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CACAH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,KAAM,CAAAqC,SAAS,CAAG,cAAAA,CAAA,CAAkE,IAA3D,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,MAAM,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAI,QAAQ,CAAAJ,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,IAAE,CAAAK,KAAK,CAAAL,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAC7EvC,UAAU,CAAC,IAAI,CAAC,CAChBI,QAAQ,CAAC,EAAE,CAAC,CACZ,GAAI,CACF,KAAM,CAAAyC,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CACjCR,IAAI,CAAEA,IAAI,CAACS,QAAQ,CAAC,CAAC,CACrBC,KAAK,CAAE,IAAI,CACXN,MAAM,CACNC,QAAQ,CACRC,KACF,CAAC,CAAC,CAGF,KAAM,CAAAd,GAAG,CAAG,KAAM,CAAAC,KAAK,0CAAAkB,MAAA,CAA0CJ,MAAM,EAAI,CACzEb,OAAO,CAAE,CAAE,kBAAkB,CAAEJ,aAAc,CAC/C,CAAC,CAAC,CAEF,GAAIE,GAAG,CAACG,EAAE,CAAE,CACV,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7BpB,QAAQ,CAACmB,IAAI,CAACpB,KAAK,EAAI,EAAE,CAAC,CAC1BG,aAAa,CAACiB,IAAI,CAAClB,UAAU,EAAI,CAAC,CAAC,CAAC,CACtC,CAAC,IAAM,CACLZ,QAAQ,CAAC,sEAAsE,CAAC,CAClF,CACF,CAAE,MAAOD,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAAC,oFAAoF,CAAC,CAChG,CACAJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,KAAM,CAAAkD,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnClD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAA8B,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,6CAA6C,CAAE,CACrEC,OAAO,CAAE,CAAE,kBAAkB,CAAEJ,aAAc,CAC/C,CAAC,CAAC,CACF,GAAIE,GAAG,CAACG,EAAE,CAAE,CACV,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7BR,eAAe,CAACO,IAAI,CAAC,CACvB,CACF,CAAE,MAAO/B,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACAH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,KAAM,CAAAmD,YAAY,CAAGA,CAAA,GAAM,CACzB1B,cAAc,CAAC,CAAC,CAAC,CACjBY,SAAS,CAAC,CAAC,CAAEnB,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CAC3D,CAAC,CAED,KAAM,CAAA8B,gBAAgB,CAAId,IAAI,EAAK,CACjCb,cAAc,CAACa,IAAI,CAAC,CACpBD,SAAS,CAACC,IAAI,CAAEpB,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CAC9D,CAAC,CAED,KAAM,CAAA+B,iBAAiB,CAAGA,CAACC,UAAU,CAAEC,WAAW,GAAK,CACrD9B,cAAc,CAAC,CAAC,CAAC,CACjB,GAAI6B,UAAU,GAAK,UAAU,CAAE,CAC7BjC,qBAAqB,CAACkC,WAAW,CAAC,CAClChC,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,IAAM,IAAI+B,UAAU,GAAK,OAAO,CAAE,CACjC/B,cAAc,CAACgC,WAAW,CAAC,CAC3BlC,qBAAqB,CAAC,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,KAAM,CAAAmC,iBAAiB,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC1C,GAAI,CACF,KAAM,CAAA3B,GAAG,CAAG,KAAM,CAAAC,KAAK,yCAAAkB,MAAA,CAAyCQ,MAAM,kBAAiB,CACrFC,MAAM,CAAE,OAAO,CACf1B,OAAO,CAAE,CACP,kBAAkB,CAAEJ,aAAa,CACjC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAIE,GAAG,CAACG,EAAE,CAAE,CACVI,SAAS,CAACb,WAAW,CAAEN,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CACnEO,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAE,MAAO1B,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAGD,KAAM,CAAAwD,eAAe,CAAG,KAAO,CAAAF,MAAM,EAAK,CACxC,GAAI,CACF,KAAM,CAAA3B,GAAG,CAAG,KAAM,CAAAC,KAAK,yCAAAkB,MAAA,CAAyCQ,MAAM,kBAAiB,CACrFC,MAAM,CAAE,OAAO,CACf1B,OAAO,CAAE,CACP,kBAAkB,CAAEJ,aAAa,CACjC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAIE,GAAG,CAACG,EAAE,CAAE,CACV2B,KAAK,CAAC,8EAA8E,CAAC,CACrFvB,SAAS,CAACb,WAAW,CAAEN,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CACnEO,iBAAiB,CAAC,CAAC,CACrB,CAAC,IAAM,CACL+B,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAE,MAAOzD,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CyD,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAC,uBAAuB,CAAG,KAAAA,CAAOJ,MAAM,CAAEK,SAAS,GAAK,CAC3D,GAAI,CACF,KAAM,CAAAhC,GAAG,CAAG,KAAM,CAAAC,KAAK,iDAAkD,CACvE2B,MAAM,CAAE,MAAM,CACd1B,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACD+B,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEJ,SAAU,CAAC,CAC3C,CAAC,CAAC,CAEF,GAAIhC,GAAG,CAACG,EAAE,CAAE,CACV2B,KAAK,CAAC,uCAAuC,CAAC,CAChD,CAAC,IAAM,CACLA,KAAK,CAAC,mCAAmC,CAAC,CAC5C,CACF,CAAE,MAAOzD,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAC,CACzDyD,KAAK,CAAC,kCAAkC,CAAC,CAC3C,CACF,CAAC,CAED,KAAM,CAAAO,UAAU,CAAG,KAAO,CAAAV,MAAM,EAAK,CACnC,GAAIW,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAChE,GAAI,CACF,KAAM,CAAAvC,GAAG,CAAG,KAAM,CAAAC,KAAK,yCAAAkB,MAAA,CAAyCQ,MAAM,EAAI,CACxEC,MAAM,CAAE,QAAQ,CAChB1B,OAAO,CAAE,CAAE,kBAAkB,CAAEJ,aAAc,CAC/C,CAAC,CAAC,CAEF,GAAIE,GAAG,CAACG,EAAE,CAAE,CACVI,SAAS,CAACb,WAAW,CAAEN,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CACnEO,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAE,MAAO1B,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CACF,CAAC,CAEDZ,SAAS,CAAC,IAAM,CACdsC,iBAAiB,CAAC,CAAC,CACnBQ,SAAS,CAAC,CAAC,CAAE;AACb,GAAIpC,SAAS,GAAK,QAAQ,CAAE,CAC1BiD,gBAAgB,CAAC,CAAC,CACpB,CACF,CAAC,CAAE,CAACjD,SAAS,CAAC,CAAC,CAEf;AACAV,SAAS,CAAC,IAAM,CACd,GAAIU,SAAS,GAAK,OAAO,CAAE,CACzBoC,SAAS,CAAC,CAAC,CAAEnB,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CACzDG,cAAc,CAAC,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACL,kBAAkB,CAAEE,WAAW,CAAErB,SAAS,CAAC,CAAC,CAEhD;AACAV,SAAS,CAAC,IAAM,CACd,GAAIU,SAAS,GAAK,OAAO,CAAE,CACzBoC,SAAS,CAAC,CAAC,CAAEnB,UAAU,CAAEE,kBAAkB,CAAEE,WAAW,CAAC,CACzDG,cAAc,CAAC,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAC,CAAC,CAGhB,mBACEvB,KAAA,QAAK2E,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5E,KAAA,QAAK2E,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC9E,IAAA,OAAA8E,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB9E,IAAA,WACE6E,SAAS,CAAC,qBAAqB,CAC/BE,OAAO,CAAEA,CAAA,GAAMJ,MAAM,CAACK,QAAQ,CAACC,IAAI,CAAG,GAAI,CAAAH,QAAA,CAC3C,cAED,CAAQ,CAAC,EACN,CAAC,cAEN5E,KAAA,QAAK2E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9E,IAAA,WACE6E,SAAS,CAAErE,SAAS,GAAK,WAAW,CAAG,QAAQ,CAAG,EAAG,CACrDuE,OAAO,CAAEA,CAAA,GAAMtE,YAAY,CAAC,WAAW,CAAE,CAAAqE,QAAA,CAC1C,WAED,CAAQ,CAAC,cACT9E,IAAA,WACE6E,SAAS,CAAErE,SAAS,GAAK,OAAO,CAAG,QAAQ,CAAG,EAAG,CACjDuE,OAAO,CAAEA,CAAA,GAAMtE,YAAY,CAAC,OAAO,CAAE,CAAAqE,QAAA,CACtC,OAED,CAAQ,CAAC,cACT9E,IAAA,WACE6E,SAAS,CAAErE,SAAS,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAG,CAClDuE,OAAO,CAAEA,CAAA,GAAMtE,YAAY,CAAC,QAAQ,CAAE,CAAAqE,QAAA,CACvC,eAED,CAAQ,CAAC,EACN,CAAC,CAELxE,OAAO,eAAIN,IAAA,QAAK6E,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CACjEpE,KAAK,eAAIV,IAAA,QAAK6E,SAAS,CAAC,oBAAoB,CAACK,KAAK,CAAE,CAACC,KAAK,CAAE,KAAK,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAQ,CAAEC,eAAe,CAAE,SAAS,CAAEC,MAAM,CAAE,eAAe,CAAEC,YAAY,CAAE,KAAK,CAAEC,MAAM,CAAE,QAAQ,CAAE,CAAAX,QAAA,CAAEpE,KAAK,CAAM,CAAC,CAEnNF,SAAS,GAAK,WAAW,eACxBR,IAAA,QAAK6E,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrC5E,KAAA,QAAK2E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC5E,KAAA,QAAK2E,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEA,CAAA,GAAMtE,YAAY,CAAC,OAAO,CAAE,CAAAqE,QAAA,eACtE9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACE,UAAU,CAAO,CAAC,cAC9Dd,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,aAAW,CAAM,CAAC,EACpD,CAAC,cACN5E,KAAA,QACE2E,SAAS,CAAC,6BAA6B,CACvCE,OAAO,CAAEA,CAAA,GAAMnB,iBAAiB,CAAC,UAAU,CAAE,UAAU,CAAE,CACzDsB,KAAK,CAAE,CAACQ,MAAM,CAAE,SAAS,CAAE,CAAAZ,QAAA,eAE3B9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACG,aAAa,CAAO,CAAC,cACjEf,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,EACvD,CAAC,cACN5E,KAAA,QACE2E,SAAS,CAAC,6BAA6B,CACvCE,OAAO,CAAEA,CAAA,GAAMnB,iBAAiB,CAAC,UAAU,CAAE,YAAY,CAAE,CAC3DsB,KAAK,CAAE,CAACQ,MAAM,CAAE,SAAS,CAAE,CAAAZ,QAAA,eAE3B9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACI,eAAe,CAAO,CAAC,cACnEhB,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,kBAAgB,CAAM,CAAC,EACzD,CAAC,cACN5E,KAAA,QACE2E,SAAS,CAAC,6BAA6B,CACvCE,OAAO,CAAEA,CAAA,GAAMnB,iBAAiB,CAAC,OAAO,CAAE,OAAO,CAAE,CACnDsB,KAAK,CAAE,CAACQ,MAAM,CAAE,SAAS,CAAE,CAAAZ,QAAA,eAE3B9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACK,UAAU,CAAO,CAAC,cAC9DjB,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,aAAW,CAAM,CAAC,EACpD,CAAC,cACN5E,KAAA,QAAK2E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACM,WAAW,CAAO,CAAC,cAC/DlB,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,EACvD,CAAC,cACN5E,KAAA,QAAK2E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACO,UAAU,CAAO,CAAC,cAC9DnB,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,oBAAkB,CAAM,CAAC,EAC3D,CAAC,cACN5E,KAAA,QAAK2E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9E,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAElE,KAAK,CAACQ,aAAa,CAAO,CAAC,cACjEpB,IAAA,SAAM6E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,0BAAwB,CAAM,CAAC,EACjE,CAAC,EACH,CAAC,CACH,CACN,CAEAtE,SAAS,GAAK,OAAO,eACpBN,KAAA,QAAK2E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC5E,KAAA,QAAK2E,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC9E,IAAA,UACE2F,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAEpE,UAAW,CAClBqE,QAAQ,CAAEC,CAAC,EAAIrE,aAAa,CAACqE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,cACF3F,KAAA,WACE2F,KAAK,CAAElE,kBAAmB,CAC1BmE,QAAQ,CAAEC,CAAC,EAAI,CACbnE,qBAAqB,CAACmE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CACrC/D,cAAc,CAAC,KAAK,CAAC,CAAE;AACzB,CAAE,CAAAgD,QAAA,eAEF9E,IAAA,WAAQ6F,KAAK,CAAC,KAAK,CAAAf,QAAA,CAAC,WAAS,CAAQ,CAAC,cACtC9E,IAAA,WAAQ6F,KAAK,CAAC,UAAU,CAAAf,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC/C9E,IAAA,WAAQ6F,KAAK,CAAC,YAAY,CAAAf,QAAA,CAAC,iBAAe,CAAQ,CAAC,EAC7C,CAAC,cACT5E,KAAA,WACE2F,KAAK,CAAEhE,WAAY,CACnBiE,QAAQ,CAAEC,CAAC,EAAI,CACbjE,cAAc,CAACiE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAC9BjE,qBAAqB,CAAC,KAAK,CAAC,CAAE;AAChC,CAAE,CAAAkD,QAAA,eAEF9E,IAAA,WAAQ6F,KAAK,CAAC,KAAK,CAAAf,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAC3C9E,IAAA,WAAQ6F,KAAK,CAAC,OAAO,CAAAf,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cAC/C9E,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAf,QAAA,CAAC,oBAAkB,CAAQ,CAAC,EAC1C,CAAC,cACT9E,IAAA,WAAQ+E,OAAO,CAAErB,YAAa,CAAAoB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC3C,CAAC,cAEN9E,IAAA,QAAK6E,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3C5E,KAAA,UAAO2E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACnC9E,IAAA,UAAA8E,QAAA,cACE5E,KAAA,OAAA4E,QAAA,eACE9E,IAAA,OAAA8E,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB9E,IAAA,OAAA8E,QAAA,CAAI,OAAK,CAAI,CAAC,cACd9E,IAAA,OAAA8E,QAAA,CAAI,QAAM,CAAI,CAAC,cACf9E,IAAA,OAAA8E,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB9E,IAAA,OAAA8E,QAAA,CAAI,OAAK,CAAI,CAAC,cACd9E,IAAA,OAAA8E,QAAA,CAAI,aAAW,CAAI,CAAC,cACpB9E,IAAA,OAAA8E,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB9E,IAAA,OAAA8E,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB9E,IAAA,OAAA8E,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACR9E,IAAA,UAAA8E,QAAA,CACGzD,KAAK,CAAC4E,GAAG,CAACC,IAAI,eACbhG,KAAA,OAAA4E,QAAA,eACE9E,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACC,QAAQ,CAAK,CAAC,cACxBnG,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACzB,KAAK,CAAK,CAAC,cACrBzE,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACE,MAAM,CAAK,CAAC,cACtBpG,IAAA,OAAA8E,QAAA,cACE9E,IAAA,SAAM6E,SAAS,WAAArB,MAAA,CAAY0C,IAAI,CAACG,eAAe,CAAG,UAAU,CAAG,YAAY,CAAG,CAAAvB,QAAA,CAC3EoB,IAAI,CAACG,eAAe,CAAG,KAAK,CAAG,IAAI,CAChC,CAAC,CACL,CAAC,cACLrG,IAAA,OAAA8E,QAAA,cACE9E,IAAA,SAAM6E,SAAS,WAAArB,MAAA,CAAY0C,IAAI,CAACI,OAAO,CAAG,OAAO,CAAG,MAAM,CAAG,CAAAxB,QAAA,CAC1DoB,IAAI,CAACI,OAAO,CAAG,KAAK,CAAG,IAAI,CACxB,CAAC,CACL,CAAC,cACLtG,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACK,UAAU,EAAI,CAAC,CAAK,CAAC,cAC/BvG,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACM,WAAW,CAAG,GAAI,CAAAC,IAAI,CAACP,IAAI,CAACM,WAAW,CAAC,CAACE,cAAc,CAAC,CAAC,CAAG,OAAO,CAAK,CAAC,cACnF1G,IAAA,OAAA8E,QAAA,CAAK,GAAI,CAAA2B,IAAI,CAACP,IAAI,CAACS,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,cACxD5G,IAAA,OAAA8E,QAAA,cACE5E,KAAA,QAAK2E,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAClC,CAACoB,IAAI,CAACG,eAAe,eACpBnG,KAAA,CAAAE,SAAA,EAAA0E,QAAA,eACE9E,IAAA,WACE6E,SAAS,CAAC,YAAY,CACtBE,OAAO,CAAEA,CAAA,GAAMb,eAAe,CAACgC,IAAI,CAACW,GAAG,CAAE,CACzC3B,KAAK,CAAE,CAAC4B,WAAW,CAAE,KAAK,CAAExB,eAAe,CAAE,SAAS,CAAEH,KAAK,CAAE,OAAO,CAAEI,MAAM,CAAE,MAAM,CAAEH,OAAO,CAAE,UAAU,CAAEI,YAAY,CAAE,KAAK,CAAE,CAAAV,QAAA,CACnI,cAED,CAAQ,CAAC,cACT9E,IAAA,WACE6E,SAAS,CAAC,YAAY,CACtBE,OAAO,CAAEA,CAAA,GAAMX,uBAAuB,CAAC8B,IAAI,CAACW,GAAG,CAAEX,IAAI,CAACzB,KAAK,CAAE,CAC7DS,KAAK,CAAE,CAAC4B,WAAW,CAAE,KAAK,CAAExB,eAAe,CAAE,SAAS,CAAEH,KAAK,CAAE,OAAO,CAAEI,MAAM,CAAE,MAAM,CAAEH,OAAO,CAAE,UAAU,CAAEI,YAAY,CAAE,KAAK,CAAE,CAAAV,QAAA,CACnI,2BAED,CAAQ,CAAC,EACT,CACH,cACD9E,IAAA,WACE6E,SAAS,cAAArB,MAAA,CAAe0C,IAAI,CAACI,OAAO,CAAG,QAAQ,CAAG,KAAK,CAAG,CAC1DvB,OAAO,CAAEA,CAAA,GAAMhB,iBAAiB,CAACmC,IAAI,CAACW,GAAG,CAAE,CAC3C3B,KAAK,CAAE,CAAC4B,WAAW,CAAE,KAAK,CAAExB,eAAe,CAAEY,IAAI,CAACI,OAAO,CAAG,SAAS,CAAG,SAAS,CAAEnB,KAAK,CAAE,OAAO,CAAEI,MAAM,CAAE,MAAM,CAAEH,OAAO,CAAE,UAAU,CAAEI,YAAY,CAAE,KAAK,CAAE,CAAAV,QAAA,CAE5JoB,IAAI,CAACI,OAAO,CAAG,cAAc,CAAG,YAAY,CACvC,CAAC,cACTtG,IAAA,WACE6E,SAAS,CAAC,YAAY,CACtBE,OAAO,CAAEA,CAAA,GAAML,UAAU,CAACwB,IAAI,CAACW,GAAG,CAAE,CACpC3B,KAAK,CAAE,CAACI,eAAe,CAAE,SAAS,CAAEH,KAAK,CAAE,OAAO,CAAEI,MAAM,CAAE,MAAM,CAAEH,OAAO,CAAE,UAAU,CAAEI,YAAY,CAAE,KAAK,CAAE,CAAAV,QAAA,CAC/G,QAED,CAAQ,CAAC,EACN,CAAC,CACJ,CAAC,GApDEoB,IAAI,CAACW,GAqDV,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CAELtF,UAAU,CAACwF,UAAU,CAAG,CAAC,eACxB7G,KAAA,QAAK2E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC9E,IAAA,WACEgH,QAAQ,CAAE,CAACzF,UAAU,CAAC0F,OAAQ,CAC9BlC,OAAO,CAAEA,CAAA,GAAMpB,gBAAgB,CAAC5B,WAAW,CAAG,CAAC,CAAE,CAAA+C,QAAA,CAClD,UAED,CAAQ,CAAC,cACT5E,KAAA,SAAA4E,QAAA,EAAM,OACC,CAACvD,UAAU,CAACQ,WAAW,CAAC,MAAI,CAACR,UAAU,CAACwF,UAAU,EACnD,CAAC,cACP/G,IAAA,WACEgH,QAAQ,CAAE,CAACzF,UAAU,CAAC2F,OAAQ,CAC9BnC,OAAO,CAAEA,CAAA,GAAMpB,gBAAgB,CAAC5B,WAAW,CAAG,CAAC,CAAE,CAAA+C,QAAA,CAClD,MAED,CAAQ,CAAC,EACN,CACN,EACE,CACN,CAEAtE,SAAS,GAAK,QAAQ,eACrBR,IAAA,QAAK6E,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClC9E,IAAA,QAAK6E,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3C5E,KAAA,UAAO2E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACnC9E,IAAA,UAAA8E,QAAA,cACE5E,KAAA,OAAA4E,QAAA,eACE9E,IAAA,OAAA8E,QAAA,CAAI,MAAI,CAAI,CAAC,cACb9E,IAAA,OAAA8E,QAAA,CAAI,OAAK,CAAI,CAAC,cACd9E,IAAA,OAAA8E,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB9E,IAAA,OAAA8E,QAAA,CAAI,aAAW,CAAI,CAAC,cACpB9E,IAAA,OAAA8E,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzB9E,IAAA,OAAA8E,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB9E,IAAA,OAAA8E,QAAA,CAAI,aAAW,CAAI,CAAC,EAClB,CAAC,CACA,CAAC,cACR9E,IAAA,UAAA8E,QAAA,CACG7C,YAAY,CAACgE,GAAG,CAACC,IAAI,EACpBA,IAAI,CAACjE,YAAY,CAACgE,GAAG,CAAC,CAACkB,GAAG,CAAEC,GAAG,gBAC7BlH,KAAA,OAAA4E,QAAA,eACE9E,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACC,QAAQ,CAAK,CAAC,cACxBnG,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACzB,KAAK,CAAK,CAAC,cACrBzE,IAAA,OAAA8E,QAAA,CAAKqC,GAAG,CAACE,OAAO,CAAG,GAAI,CAAAZ,IAAI,CAACU,GAAG,CAACE,OAAO,CAAC,CAACX,cAAc,CAAC,CAAC,CAAG,GAAG,CAAK,CAAC,cACrE1G,IAAA,OAAA8E,QAAA,CAAKqC,GAAG,CAACG,QAAQ,CAAG,GAAI,CAAAb,IAAI,CAACU,GAAG,CAACG,QAAQ,CAAC,CAACZ,cAAc,CAAC,CAAC,CAAG,QAAQ,CAAK,CAAC,cAC5E1G,IAAA,OAAA8E,QAAA,CACGqC,GAAG,CAACI,eAAe,IAAA/D,MAAA,CAAM2D,GAAG,CAACI,eAAe,MAAM,GAAG,CACpD,CAAC,cACLvH,IAAA,OAAA8E,QAAA,CAAKqC,GAAG,CAACK,SAAS,EAAI,GAAG,CAAK,CAAC,cAC/BxH,IAAA,OAAA8E,QAAA,CAAKoB,IAAI,CAACK,UAAU,EAAI,CAAC,CAAK,CAAC,MAAA/C,MAAA,CATrB0C,IAAI,CAACW,GAAG,MAAArD,MAAA,CAAI4D,GAAG,CAUvB,CACL,CACH,CAAC,CACI,CAAC,EACH,CAAC,CACL,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/G,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}